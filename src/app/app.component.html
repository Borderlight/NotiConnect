<header class="app-header" role="banner" (click)="cerrarDropdown()">
  <div class="header-content">
    @if (mostrarBotonVolver) {
      <button class="back-button" [attr.aria-label]="'COMMON.BACK' | translate" (click)="volver()">
        <img src="/assets/pantalla-principal/volver atras.png" [alt]="'COMMON.BACK' | translate" class="icono-volver" />
      </button>
    }
    <div class="logo-upsa-container">
      <img src="/assets/pantalla-principal/logo_upsa.png"
           [alt]="'COMMON.UPSA_LOGO_ALT' | translate"
           class="logo-upsa">
    </div>
    <div class="center-content">
      <button class="logo-noticonnect-btn" [attr.aria-label]="'COMMON.GO_HOME' | translate" (click)="navegarInicio()">
        <img src="/assets/pantalla-principal/NotiConnect.png"
             [alt]="'COMMON.NOTICONNECT_LOGO_ALT' | translate"
             class="logo-noticonnect" 
             style="cursor: pointer;"
             />
      </button>
      <div class="noticonnect-label">NotiConnect</div>
    </div>
    
    <!-- Icono de usuario en el extremo derecho -->
    @if (usuarioAutenticado) {
      <div class="user-section" (click)="$event.stopPropagation()">
        <div class="user-dropdown">
          <button class="user-icon-btn" (click)="toggleDropdownUsuario()" [attr.aria-label]="'MenÃº de usuario'">
            <img src="/assets/pantalla-principal/user-icon.webp" alt="Usuario" class="user-icon">
          </button>
          
          <!-- Dropdown menu -->
          @if (mostrarDropdownUsuario) {
            <div class="dropdown-menu">
              <div class="user-info-dropdown">
                <div class="user-name">{{ usuarioAutenticado.nombre || 'Usuario' }}</div>
                <div class="user-email">{{ usuarioAutenticado.email }}</div>
                <div class="user-department">{{ usuarioAutenticado.departamento }}</div>
              </div>
              <hr class="dropdown-divider">
              <button class="dropdown-item logout-item" (click)="cerrarSesion()">
                <span class="logout-icon">ðŸšª</span>
                Cerrar sesiÃ³n
              </button>
            </div>
          }
        </div>
      </div>
    }
  </div>
</header>

<main class="app-main" role="main">
  <router-outlet></router-outlet>
</main>

<footer class="app-footer" role="contentinfo">
  <p>{{ 'COMMON.COPYRIGHT' | translate }}</p>
</footer>